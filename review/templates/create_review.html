{% extends "base.html" %}

{% block content %}
<div class="container mx-auto py-10 flex justify-center font-merriweather">
    <!-- Review Form Container -->
    <div class="w-full max-w-2xl bg-white rounded-lg shadow-lg border border-gray-200 p-6">
        
        <!-- Header Section -->
        <div class="bg-gray-200 p-6 rounded-t-lg text-center">
            <h1 class="text-3xl font-bold text-gray-700">Submit Your Review</h1>
        </div>
        
        <!-- Review Form -->
        <form method="post" enctype="multipart/form-data" class="text-left mt-6 space-y-4">
            {% csrf_token %}

            <!-- Review Text Area -->
            <div class="mb-4">
                <label for="review_text" class="block text-lg font-semibold text-gray-700 mb-1">Write Your Review</label>
                <textarea id="review_text" name="review_text" rows="4" maxlength="250" class="w-full px-4 py-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-300" placeholder="Tell us what you like about this product!"></textarea>
                <div class="text-right text-sm text-gray-400 mt-1">Max 250 characters</div>
            </div>

            <!-- Rating Input -->
            <div class="mb-4">
                <label for="rating" class="block text-lg font-semibold text-gray-700 mb-1">Rating (1-5)</label>
                <input id="rating" type="number" step="0.1" min="1" max="5" name="rating" class="w-full px-4 py-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-300" placeholder="Enter rating">
            </div>

            <!-- Photo Upload Section -->
            <div class="mb-6">
                <label for="file-upload" class="block text-lg font-semibold text-gray-700 mb-1">Add Photo</label>
                <div class="bg-gray-100 border-2 border-dashed border-gray-300 p-6 rounded-lg text-center cursor-pointer relative hover:border-gray-400" id="upload-box">
                    <input type="file" id="file-upload" name="review_image" accept=".jpg, .jpeg, .png" class="absolute inset-0 opacity-0 cursor-pointer">
                    <!-- Image Preview -->
                    <img id="file-preview" src="#" alt="Preview Uploaded Image" class="hidden w-full h-full object-cover rounded-lg">
                    <div id="upload-text" class="text-brown-600 font-semibold">Click to upload (Max 1 photo & max 5 MB)</div>
                    <div id="upload-confirmation" class="hidden text-green-600 mt-2 flex items-center justify-center">
                        <span class="material-icons">check_circle</span>
                        <span class="ml-2">Image uploaded successfully!</span>
                    </div>
                </div>
                <p class="text-sm text-red-500 mt-2">Image cannot be changed after upload</p>
            </div>
            
            <!-- Submit Button -->
            <button type="submit" class="w-full py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition duration-200">Submit</button>
        </form>
    </div>
</div>
{% endblock %}

<style>
    .container, .font-merriweather {
        font-family: 'Merriweather', serif;
    }
    .shadow-sm {
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    #upload-box {
        position: relative;
        overflow: hidden;
        transition: border-color 0.3s ease-in-out;
    }
    #upload-box:hover {
        border-color: #A0AEC0;
    }
    #file-upload {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
    }
    .text-brown-600 {
        color: #8B4513;
    }
    #upload-confirmation {
        transition: opacity 0.3s ease;
    }
    .file-size-error {
        color: #FF0000;
        font-size: 0.875rem;
        display: none;
    }
</style>
